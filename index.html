<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        //Standard Function to ensure that any entry is Title Cased
        let cap = function(string) {
            string = string.toLowerCase();
            let first = string.charAt(0);
            return first.toUpperCase() + string.slice(1); 
        };

        //Function to randomly select Rock, Paper, or Scissors for the computer
        function cpuPlay() {
            let cpuNum = Math.random();
            if (cpuNum <= .33){
                cpuChoice = "Rock"
            } else if (cpuNum <= .66) {
                cpuChoice = "Paper"
            } else {
                cpuChoice = "Scissors"
            };
            return cpuChoice        
        };

        //Function to run a single game based on parameters.
        function playRound(player, cpu) {
            player = cap(player);
            let result;
            if (!(player == "Rock" || player == "Scissors" || player == "Paper")) { 
                console.log("Please try again by entering Rock, Paper, or Scissors!");
                return;
            } else if (player == cpu){
                    result = "You Draw!"
                } else if ((player == "Rock" && cpu == "Paper") || (player == "Paper" && cpu == "Scissors") || (player == "Scissors" && cpu == "Rock")){
                    result = `You Lose! ${cpu} beats ${player}!`;
                } else { result = `You Win! ${player} beats ${cpu}!`;
                };
///*For Debugging!*/console.table([result, cpu, player])    
            return result;
        }

        //Runs 5 games, tracks score, and presents score. Utilizes cpuPlay to define CPU parameter, prompt for player parameter of playRound.        
        function game(){
            let cpuWin = 0;
            let playerWin = 0;
            //Run 5 Games
            for (let i=0; i<5; i++){
                let playerSelection = prompt("Rock, Paper, or Scissors?"); //Use Prompt to determine player RPS
///*For Debugging!*/console.log("Player chose: " + cap(playerSelection))
                let cpuSelection = cpuPlay(); //Use cpuPlay to determine random RPS
                let resultMessage = playRound(playerSelection,cpuSelection);
                if (resultMessage.slice(0,7) == "You Win"){
                    playerWin++;//increment for score tracking
                    console.log(resultMessage); //publish single game result
                } else if (resultMessage.slice(0,7) == "You Los"){
                    cpuWin++;
                    console.log(resultMessage);
                } else {console.log(resultMessage)} //Publish Draw result
            }
            //Present Final Score
            if (cpuWin > playerWin) {
                console.log(`Final result! CPU Wins! \nCPU: ${cpuWin}\nPlayer: ${playerWin}`)
            } else if (cpuWin < playerWin){
                console.log(`Final result! Player Wins! \nCPU: ${cpuWin}\nPlayer: ${playerWin}`)
            } else { console.log(`Y'all Tied! \nCPU: ${cpuWin}\nPlayer: ${playerWin}`)}
        }

    </script>
</head>
<body>
    
</body>
</html>

